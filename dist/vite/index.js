var _0x2fa6f0=_0x3308;function _0x1404(){var _0xa2f876=['12539984TDVPXb','message','enhance-runtime.js','[enhance-sandbox]\x20Vite\x20publicDir\x20is\x20disabled,\x20not\x20copying\x20assets.','[enhance-sandbox]\x20Failed\x20to\x20copy\x20assets\x20to\x20public\x20dir:\x20','logger','publicDir','4MxKNza','../assets/enhance-runtime.js','sw-enhance.js','1208990jfrhsn','catch','36idxkwz','1375577NQfTiG','5511908qKseTp','269718dDvdMt','url','38919780sJfzsr','../sw-enhance.js','enhance-sandbox','[enhance-sandbox]\x20Copied\x20runtime\x20and\x20service\x20worker\x20into\x20public/__enhance__','warn','error','assets','info','893893TvdIQc'];_0x1404=function(){return _0xa2f876;};return _0x1404();}(function(_0x1ec289,_0x994054){var _0x4c22e5=_0x3308,_0x332d04=_0x1ec289();while(!![]){try{var _0x2593d8=parseInt(_0x4c22e5(0xd0))/0x1+parseInt(_0x4c22e5(0xd8))/0x2*(parseInt(_0x4c22e5(0xe0))/0x3)+-parseInt(_0x4c22e5(0xdf))/0x4+parseInt(_0x4c22e5(0xdb))/0x5*(-parseInt(_0x4c22e5(0xdd))/0x6)+-parseInt(_0x4c22e5(0xde))/0x7+-parseInt(_0x4c22e5(0xd1))/0x8+parseInt(_0x4c22e5(0xc8))/0x9;if(_0x2593d8===_0x994054)break;else _0x332d04['push'](_0x332d04['shift']());}catch(_0x6dbce){_0x332d04['push'](_0x332d04['shift']());}}}(_0x1404,0xc49e7));import{fileURLToPath}from'url';function _0x3308(_0x35bde7,_0x4fd492){var _0x1404fc=_0x1404();return _0x3308=function(_0x33080b,_0x1432db){_0x33080b=_0x33080b-0xc7;var _0x564430=_0x1404fc[_0x33080b];return _0x564430;},_0x3308(_0x35bde7,_0x4fd492);}import{dirname,join}from'path';import{mkdir,copyFile}from'fs/promises';var thisFile=fileURLToPath(import.meta[_0x2fa6f0(0xc7)]),pluginDir=dirname(thisFile),runtimePath=fileURLToPath(new URL(_0x2fa6f0(0xd9),import.meta[_0x2fa6f0(0xc7)])),swPath=fileURLToPath(new URL(_0x2fa6f0(0xc9),import.meta['url']));async function copyAssetsToPublic(_0x3e9f59){var _0x30dadc=_0x2fa6f0;const _0x2b987c=_0x3e9f59[_0x30dadc(0xd7)];if(!_0x2b987c){_0x3e9f59[_0x30dadc(0xd6)][_0x30dadc(0xcc)](_0x30dadc(0xd4));return;}const _0x59ed99=join(_0x2b987c,_0x30dadc(0xce));await mkdir(_0x59ed99,{'recursive':!![]}),await copyFile(runtimePath,join(_0x59ed99,_0x30dadc(0xd3))),await copyFile(swPath,join(_0x2b987c,_0x30dadc(0xda))),_0x3e9f59['logger'][_0x30dadc(0xcf)](_0x30dadc(0xcb));}var enhanceSandboxPlugin=()=>{var _0x2c2123=_0x2fa6f0;let _0x1c30d3=![];return{'name':_0x2c2123(0xca),'configResolved'(_0x56008d){var _0x561beb=_0x2c2123;if(_0x1c30d3)return;_0x1c30d3=!![],copyAssetsToPublic(_0x56008d)[_0x561beb(0xdc)](_0x4cbffa=>{var _0x2ffc5f=_0x561beb;_0x56008d[_0x2ffc5f(0xd6)][_0x2ffc5f(0xcd)](_0x2ffc5f(0xd5)+_0x4cbffa[_0x2ffc5f(0xd2)]);});}};};export{enhanceSandboxPlugin};